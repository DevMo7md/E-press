<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>BizNews</title>
    <div id="loading" class="loading-overlay">
        <img src="{% static 'img/loading.gif' %}" alt="Loading...">
    </div>
    <style>
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5) !important;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999999;
            visibility: hidden; /* الإخفاء بشكل افتراضي */
}

.loading-overlay img {
    width: 150px;
    height: 150px;
}

    </style>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zain:wght@200;300;400;700;800;900&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link href="{% static 'img/no result.png' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kufam:ital,wght@0,400..900;1,400..900&family=Zain:wght@200;300;400;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet">
    
    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="{% static 'css/style.css' %}">
    <!-- Summernote -->
    <!-- إضافة CSS لمكتبة Summernote -->
    <link href="https://cdn.jsdelivr.net/npm/summernote/dist/summernote.min.css" rel="stylesheet">



</head>

<body>
<!--             Topbar Start           -->
{% include 'parts/topbar.html' %}
<!--             Topbar End             -->

<!-- ************************************************ -->

<!--              navbar                    -->
{% include 'parts/nav.html' %}
<!--              end navbar                -->


<!--              messages                -->
    <br>
    {% if messages %} {% for message in messages %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
    {{message}}
    <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
        style="font-family: 'Almarai', sans-serif; font-size: 1em;"
    ></button>
    </div>
    {% endfor %}{% endif %}

<!--              end messages                -->

    
{% block content %}

{% endblock %}


    <!--                       Footer Start                         -->

    {% include 'parts/footer.html' %}

    <!--                       Footer End                           -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-primary btn-square back-to-top"><i class="fa fa-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/summernote/dist/summernote.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'js/main.js' %}"></script>
    <script src="https://kit.fontawesome.com/2edd19b664.js" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            // تهيئة Summernote
            $('#summernote').summernote({
                height: 300, // ارتفاع المحرر
                toolbar: [
                    // أدوات التنسيق
                    ['style', ['bold', 'italic', 'underline', 'clear']],
                    // حجم الخط
                    ['fontsize', ['fontsize']],
                    // أنواع الخطوط
                    ['fontname', ['fontname']],
                    // اختيار لون النص
                    ['color', ['color']],
                    // الفقرات
                    ['para', ['ul', 'ol', 'paragraph']],
                    // تغيير ارتفاع المحرر
                    ['height', ['height']],
                    // إدراج محتويات
                    ['insert', ['picture', 'link', 'video']],
                    // جدول
                    ['table', ['table']],
                    // أدوات متنوعة
                    ['misc', ['undo', 'redo', 'codeview', 'fullscreen']],
                    // خيارات خاصة
                    ['special', ['hr', 'help']]
                ],
                lang: 'ar', // تعيين اللغة إلى العربية
                callbacks: {
                    onInit: function() {
                        console.log('Summernote is ready'); // تسجيل رسالة عند تهيئة Summernote
                    }
                }
            });
        });    

        $(document).ready(function () {
            // تهيئة Summernote
            $('#esummernote').summernote({
                height: 300, // ارتفاع المحرر
                toolbar: [
                    // أدوات التنسيق
                    ['style', ['bold', 'italic', 'underline', 'clear']],
                    // حجم الخط
                    ['fontsize', ['fontsize']],
                    // أنواع الخطوط
                    ['fontname', ['fontname']],
                    // اختيار لون النص
                    ['color', ['color']],
                    // الفقرات
                    ['para', ['ul', 'ol', 'paragraph']],
                    // تغيير ارتفاع المحرر
                    ['height', ['height']],
                    // إدراج محتويات
                    ['insert', ['picture', 'link', 'video']],
                    // جدول
                    ['table', ['table']],
                    // أدوات متنوعة
                    ['misc', ['undo', 'redo', 'codeview', 'fullscreen']],
                    // خيارات خاصة
                    ['special', ['hr', 'help']]
                ],
                lang: 'ar', // تعيين اللغة إلى العربية
                callbacks: {
                    onInit: function() {
                        console.log('Summernote is ready'); // تسجيل رسالة عند تهيئة Summernote
                    }
                }
            });
        });    


        // إضافة حدث عند بدء التنقل بين الصفحات
    window.addEventListener('beforeunload', function () {
        var loadingIcon = document.getElementById('loading');
        if (loadingIcon) {
            // إظهار شريط التحميل
            loadingIcon.style.visibility = 'visible';
        }
    });

    // إضافة حدث عند اكتمال تحميل الصفحة
    window.addEventListener('load', function () {
        var loadingIcon = document.getElementById('loading');
        if (loadingIcon) {
            // إخفاء شريط التحميل
            loadingIcon.style.visibility = 'hidden';
        }
    });

    // في حال كانت الصفحة تحتوي على عناصر يتم تحميلها ببطء
    document.onreadystatechange = function () {
        if (document.readyState === "complete") {
            var loadingIcon = document.getElementById('loading');
            if (loadingIcon) {
                loadingIcon.style.visibility = 'hidden';
            }
        }
    };
    </script>
</body>

</html>